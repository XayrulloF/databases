--------------------------------------------------------
--  File created - Wednesday-September-20-2023   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Table CUSTOMER
--------------------------------------------------------

  CREATE TABLE "SHOP"."CUSTOMER" 
   (	"IDCUSTOMER" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"NAME" VARCHAR2(100 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table ITEM
--------------------------------------------------------

  CREATE TABLE "SHOP"."ITEM" 
   (	"IDITEM" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"NAME" VARCHAR2(50 BYTE), 
	"DESCRIPTION" CLOB
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" 
 LOB ("DESCRIPTION") STORE AS SECUREFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW 4000 CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 262144 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;
--------------------------------------------------------
--  DDL for Table ITEM_HAS_SHOP
--------------------------------------------------------

  CREATE TABLE "SHOP"."ITEM_HAS_SHOP" 
   (	"ITEM_IDITEM" NUMBER(*,0), 
	"SHOP_IDSHOP" NUMBER(*,0), 
	"PRICE" NUMBER(12,2)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table ORDERS
--------------------------------------------------------

  CREATE TABLE "SHOP"."ORDERS" 
   (	"IDORDER" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"ORDER_DATE" TIMESTAMP (6), 
	"CUSTOMER_IDCUSTOMER" NUMBER(*,0), 
	"ITEM_HAS_SHOP_ITEM_IDITEM" NUMBER(*,0), 
	"ITEM_HAS_SHOP_SHOP_IDSHOP" NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table SHOP
--------------------------------------------------------

  CREATE TABLE "SHOP"."SHOP" 
   (	"IDSHOP" NUMBER(*,0) GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"NAME" VARCHAR2(50 BYTE), 
	"LOCATION" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
REM INSERTING into SHOP.CUSTOMER
SET DEFINE OFF;
Insert into SHOP.CUSTOMER (IDCUSTOMER,NAME) values (1,'Khayrulloh');
Insert into SHOP.CUSTOMER (IDCUSTOMER,NAME) values (2,'Ahmed');
Insert into SHOP.CUSTOMER (IDCUSTOMER,NAME) values (3,'Zarif');
REM INSERTING into SHOP.ITEM
SET DEFINE OFF;
Insert into SHOP.ITEM (IDITEM,NAME) values (1,'Iphone 12');
Insert into SHOP.ITEM (IDITEM,NAME) values (2,'Samsung s21');
Insert into SHOP.ITEM (IDITEM,NAME) values (3,'Xiaomi');
REM INSERTING into SHOP.ITEM_HAS_SHOP
SET DEFINE OFF;
Insert into SHOP.ITEM_HAS_SHOP (ITEM_IDITEM,SHOP_IDSHOP,PRICE) values (1,2,1449.5);
Insert into SHOP.ITEM_HAS_SHOP (ITEM_IDITEM,SHOP_IDSHOP,PRICE) values (2,1,120.9);
Insert into SHOP.ITEM_HAS_SHOP (ITEM_IDITEM,SHOP_IDSHOP,PRICE) values (2,2,120.9);
Insert into SHOP.ITEM_HAS_SHOP (ITEM_IDITEM,SHOP_IDSHOP,PRICE) values (3,2,1201.9);
Insert into SHOP.ITEM_HAS_SHOP (ITEM_IDITEM,SHOP_IDSHOP,PRICE) values (2,4,999.3);
REM INSERTING into SHOP.ORDERS
SET DEFINE OFF;
Insert into SHOP.ORDERS (IDORDER,ORDER_DATE,CUSTOMER_IDCUSTOMER,ITEM_HAS_SHOP_ITEM_IDITEM,ITEM_HAS_SHOP_SHOP_IDSHOP) values (1,to_timestamp('16-SEP-23 04.30.37.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'),1,2,2);
Insert into SHOP.ORDERS (IDORDER,ORDER_DATE,CUSTOMER_IDCUSTOMER,ITEM_HAS_SHOP_ITEM_IDITEM,ITEM_HAS_SHOP_SHOP_IDSHOP) values (3,to_timestamp('16-SEP-23 04.33.00.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'),2,2,2);
Insert into SHOP.ORDERS (IDORDER,ORDER_DATE,CUSTOMER_IDCUSTOMER,ITEM_HAS_SHOP_ITEM_IDITEM,ITEM_HAS_SHOP_SHOP_IDSHOP) values (4,to_timestamp('16-SEP-23 04.33.05.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'),2,2,2);
Insert into SHOP.ORDERS (IDORDER,ORDER_DATE,CUSTOMER_IDCUSTOMER,ITEM_HAS_SHOP_ITEM_IDITEM,ITEM_HAS_SHOP_SHOP_IDSHOP) values (5,to_timestamp('16-SEP-23 04.35.20.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'),3,2,4);
Insert into SHOP.ORDERS (IDORDER,ORDER_DATE,CUSTOMER_IDCUSTOMER,ITEM_HAS_SHOP_ITEM_IDITEM,ITEM_HAS_SHOP_SHOP_IDSHOP) values (6,to_timestamp('16-SEP-23 04.35.27.000000000 AM','DD-MON-RR HH.MI.SSXFF AM'),1,2,4);
REM INSERTING into SHOP.SHOP
SET DEFINE OFF;
Insert into SHOP.SHOP (IDSHOP,NAME,LOCATION) values (1,'Fleshka','Tashkent');
Insert into SHOP.SHOP (IDSHOP,NAME,LOCATION) values (2,'Malika','Samarqand');
Insert into SHOP.SHOP (IDSHOP,NAME,LOCATION) values (4,'Housemobile','Andijon');
--------------------------------------------------------
--  DDL for Index SYS_C008351
--------------------------------------------------------

  CREATE UNIQUE INDEX "SHOP"."SYS_C008351" ON "SHOP"."CUSTOMER" ("IDCUSTOMER") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C008345
--------------------------------------------------------

  CREATE UNIQUE INDEX "SHOP"."SYS_C008345" ON "SHOP"."ITEM" ("IDITEM") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C008352
--------------------------------------------------------

  CREATE UNIQUE INDEX "SHOP"."SYS_C008352" ON "SHOP"."ITEM_HAS_SHOP" ("ITEM_IDITEM", "SHOP_IDSHOP") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C008360
--------------------------------------------------------

  CREATE UNIQUE INDEX "SHOP"."SYS_C008360" ON "SHOP"."ORDERS" ("IDORDER") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C008348
--------------------------------------------------------

  CREATE UNIQUE INDEX "SHOP"."SYS_C008348" ON "SHOP"."SHOP" ("IDSHOP") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  Constraints for Table CUSTOMER
--------------------------------------------------------

  ALTER TABLE "SHOP"."CUSTOMER" MODIFY ("IDCUSTOMER" NOT NULL ENABLE);
  ALTER TABLE "SHOP"."CUSTOMER" MODIFY ("NAME" NOT NULL ENABLE);
  ALTER TABLE "SHOP"."CUSTOMER" ADD PRIMARY KEY ("IDCUSTOMER")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table ITEM
--------------------------------------------------------

  ALTER TABLE "SHOP"."ITEM" MODIFY ("IDITEM" NOT NULL ENABLE);
  ALTER TABLE "SHOP"."ITEM" MODIFY ("NAME" NOT NULL ENABLE);
  ALTER TABLE "SHOP"."ITEM" ADD PRIMARY KEY ("IDITEM")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table ITEM_HAS_SHOP
--------------------------------------------------------

  ALTER TABLE "SHOP"."ITEM_HAS_SHOP" ADD PRIMARY KEY ("ITEM_IDITEM", "SHOP_IDSHOP")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table ORDERS
--------------------------------------------------------

  ALTER TABLE "SHOP"."ORDERS" MODIFY ("IDORDER" NOT NULL ENABLE);
  ALTER TABLE "SHOP"."ORDERS" MODIFY ("ORDER_DATE" NOT NULL ENABLE);
  ALTER TABLE "SHOP"."ORDERS" MODIFY ("CUSTOMER_IDCUSTOMER" NOT NULL ENABLE);
  ALTER TABLE "SHOP"."ORDERS" MODIFY ("ITEM_HAS_SHOP_ITEM_IDITEM" NOT NULL ENABLE);
  ALTER TABLE "SHOP"."ORDERS" MODIFY ("ITEM_HAS_SHOP_SHOP_IDSHOP" NOT NULL ENABLE);
  ALTER TABLE "SHOP"."ORDERS" ADD PRIMARY KEY ("IDORDER")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table SHOP
--------------------------------------------------------

  ALTER TABLE "SHOP"."SHOP" MODIFY ("IDSHOP" NOT NULL ENABLE);
  ALTER TABLE "SHOP"."SHOP" MODIFY ("NAME" NOT NULL ENABLE);
  ALTER TABLE "SHOP"."SHOP" ADD PRIMARY KEY ("IDSHOP")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table ITEM_HAS_SHOP
--------------------------------------------------------

  ALTER TABLE "SHOP"."ITEM_HAS_SHOP" ADD CONSTRAINT "ITEM_IDITEM_FK" FOREIGN KEY ("ITEM_IDITEM")
	  REFERENCES "SHOP"."ITEM" ("IDITEM") ON DELETE CASCADE ENABLE;
  ALTER TABLE "SHOP"."ITEM_HAS_SHOP" ADD CONSTRAINT "SHOP_IDSHOP_FK" FOREIGN KEY ("SHOP_IDSHOP")
	  REFERENCES "SHOP"."SHOP" ("IDSHOP") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table ORDERS
--------------------------------------------------------

  ALTER TABLE "SHOP"."ORDERS" ADD CONSTRAINT "CUSTOMER_ORDER_FK" FOREIGN KEY ("CUSTOMER_IDCUSTOMER")
	  REFERENCES "SHOP"."CUSTOMER" ("IDCUSTOMER") ON DELETE CASCADE ENABLE;
  ALTER TABLE "SHOP"."ORDERS" ADD CONSTRAINT "ITEM_HAS_SHOP_ORDER_FK" FOREIGN KEY ("ITEM_HAS_SHOP_ITEM_IDITEM", "ITEM_HAS_SHOP_SHOP_IDSHOP")
	  REFERENCES "SHOP"."ITEM_HAS_SHOP" ("ITEM_IDITEM", "SHOP_IDSHOP") ON DELETE CASCADE ENABLE;
